class Wall extends Template {
    constructor (x, y, w, h, img) {
        super(x, y, w, h, img)

        this.img = new Image();
        this.img.src = 'img/RockWall(orFloor)_specular.png'

    }
}

class PenetrableWall extends Wall {
    constructor (x, y, w, h, img) {
        super(x, y, w, h, img)

        this.img = new Image();
        this.img.src = 'img/Wood_12.png'

    }
}

class Stairs extends Template {
    constructor (x, y, w, h, img) {
        super(x, y, w, h, img)

        this.img = new Image();
        this.img.src = 'img/moreStairsDown.png'

    }
}

class Key extends Template {
    constructor (x, y, w, h, img) {
        super(x, y, w, h, img)

        this.img = new Image();
        this.img.src = 'img/key.png'

    }
}

class Pickaxe extends Key {
    constructor (x, y, w, h, img) {
        super(x, y, w, h, img)

        this.img = new Image();
        this.img.src = 'img/pickaxe2.png'

    }
}

class Lever extends Key {
    constructor (x, y, w, h, img) {
        super(x, y, w, h, img)

        this.img = new Image();
        this.img.src = 'img/Tile_21.png'

    }
}



class Door extends Template {
    constructor (x, y, w, h, img) {
        super(x, y, w, h, img)

        this.img = new Image();
        this.img.src = 'img/door.png'

    }
}

let walls = [];

let mapOne = [
    ['-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
    ['-','0','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','-'],
    ['-','0','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','-'],
    ['-','0','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','-'],
    ['-','0','0','0','0','-','-','-','-','-','-','-','-','-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','-'],
    ['-','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','-'],
    ['-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','-','-','-','-','-','-','-','-','-','-','0','0','0','0','0','0','-'],
    ['-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','-'],
    ['-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','-'],
    ['-','0','0','0','0','0','0','0','0','-','-','-','-','-','-','-','-','-','-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','-'],
    ['-','0','0','0','0','0','0','0','0','-','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','-','-','-','-','0','0','0','-'],
    ['-','0','0','0','0','0','0','0','0','-','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','-','0','0','0','-'],
    ['-','0','0','0','0','0','0','0','0','-','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','0','0','0','0','-'],
    ['-','0','0','0','0','0','0','0','0','-','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','0','0','0','0','-'],
    ['-','0','0','0','0','0','0','0','0','-','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','-','0','0','0','-'],
    ['-','0','0','0','0','0','0','0','0','-','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','-','-','0','0','0','0','-','0','0','0','-'],
    ['-','0','0','0','0','0','0','0','0','-','0','0','0','-','0','0','0','0','0','0','-','-','-','-','-','-','-','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','-','0','0','0','-'],
    ['-','0','0','0','0','-','-','-','-','-','0','0','0','-','0','0','0','0','0','0','-','0','0','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','-','0','0','0','-'],
    ['-','0','0','0','0','-','0','0','0','0','0','0','0','-','0','0','0','0','0','0','-','0','0','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','-','0','0','0','-'],
    ['-','0','0','0','0','-','0','0','0','0','0','0','0','-','0','0','0','0','0','0','-','-','-','-','-','-','-','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','-','D','D','D','-'],
    ['-','0','0','0','0','-','0','0','0','0','0','0','0','-','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','0','0','-'],
    ['-','0','0','0','0','-','0','0','0','0','-','-','-','-','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','0','0','-'],
    ['-','0','0','0','0','-','0','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','0','0','-'],
    ['-','0','0','0','0','P','0','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','-','-','-','-','-','-','0','0','0','0','-','-','-','-','-','-','-','-','-','-'],
    ['-','0','0','0','0','P','0','0','0','0','-','-','-','-','-','-','0','0','0','-','-','-','-','-','0','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-'],
    ['-','0','0','0','0','P','0','0','0','0','0','0','T','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-'],
    ['-','0','0','0','0','-','0','0','0','0','0','0','T','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-'],
    ['-','0','S','S','0','-','0','0','0','0','0','0','T','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','-'],
    ['-','-','S','S','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-','-'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],

]

let mapTwo = [
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','D','D','D','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','P','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','P','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','P','0','0','0','0','0','0','T','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','T','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','S','S','0','0','0','0','0','0','0','0','T','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','S','S','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],
    ['0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0','0'],

]

function drawMap(){

    if (graveSite.isLevelOne) {
        map = mapOne
    } else if (graveSite.isLevelTwo) {
        map = mapTwo
    }
    map.forEach((row, index) => {
        row.forEach((cell, count) => {
            switch (cell) {
                case '-':
                    walls.push(
                        new Wall(25 * count, 25 * index, 25, 25, 'black')
                    )
                    break;
                case 'S':
                    walls.push(
                        new Stairs(25 * count, 25 * index, 25, 25, 'black')
                    )
                    break;
                 case 'T':
                    if (graveSite.hasDoorKey) {
                        walls.push(
                            new Wall(25 * count, 25 * index, 25, 25, 'black')
                        )
                    }
                    break;
                case 'P':
                    if (!graveSite.hasDoorKey || !graveSite.hasPickaxe) {
                    walls.push(
                        new Wall(25 * count, 25 * index, 25, 25, 'white'))
                    }
                    break;
                    case 'D':
                        if (!graveSite.hasPulledLever) {
                            walls.push( new PenetrableWall(25 * count, 25 * index, 25, 25, 'black'))}
                default:
                    break;
            }
        })
    })

    walls.forEach(wall => {
        wall.draw();

})

}


